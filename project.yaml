version: '3.0'

expectations:
  population_size: 1000

actions:

  generate_study_population_conscious_level_blood_pressure:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_pressure*.csv

  generate_study_population_clinical_concern_dehydration:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehydration*.csv

  generate_study_population_heart_rate_resp_rate:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_resp_rate*.csv

  generate_study_population_ox_temp:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_temperature*.csv

  generate_study_population_who_dem:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_variables*.csv

  generate_study_population_com_presc:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_prescription*.csv

  generate_study_population_resp:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exhaustion*.csv

  generate_study_population_cov_testing:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-03-01 to 2020-04-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_testing*.csv

  ############

  generate_study_population_conscious_level_blood_pressure_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_pressur*.csv

  generate_study_population_clinical_concern_dehydration_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehydratio*.csv

  generate_study_population_heart_rate_resp_rate_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_resp_rat*.csv

  generate_study_population_ox_temp_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_temperatur*.csv

  generate_study_population_who_dem_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_variable*.csv

  generate_study_population_com_presc_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_prescriptio*.csv

  generate_study_population_resp_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exhaustio*.csv

  generate_study_population_cov_testing_2:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-05-01 to 2020-06-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_testin*.csv

  ##############

  generate_study_population_conscious_level_blood_pressure_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_pressu*.csv

  generate_study_population_clinical_concern_dehydration_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehydrati*.csv

  generate_study_population_heart_rate_resp_rate_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_resp_ra*.csv

  generate_study_population_ox_temp_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_temperatu*.csv

  generate_study_population_who_dem_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_variabl*.csv

  generate_study_population_com_presc_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_prescripti*.csv

  generate_study_population_resp_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exhausti*.csv

  generate_study_population_cov_testing_3:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-07-01 to 2020-08-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_testi*.csv

  #######################

  generate_study_population_conscious_level_blood_pressure_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_press*.csv

  generate_study_population_clinical_concern_dehydration_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehydrat*.csv

  generate_study_population_heart_rate_resp_rate_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_resp_r*.csv

  generate_study_population_ox_temp_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_temperat*.csv

  generate_study_population_who_dem_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_variab*.csv

  generate_study_population_com_presc_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_prescript*.csv

  generate_study_population_resp_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exhaust*.csv

  generate_study_population_cov_testing_4:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-09-01 to 2020-10-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_test*.csv

  ############################

  generate_study_population_conscious_level_blood_pressure_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
      
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_pres*.csv

  generate_study_population_clinical_concern_dehydration_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehydra*.csv

  generate_study_population_heart_rate_resp_rate_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_resp_*.csv

  generate_study_population_ox_temp_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_tempera*.csv

  generate_study_population_who_dem_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_varia*.csv

  generate_study_population_com_presc_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_prescrip*.csv

  generate_study_population_resp_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exhaus*.csv

  generate_study_population_cov_testing_5:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2020-11-01 to 2020-12-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_tes*.csv

  ####################

  generate_study_population_conscious_level_blood_pressure_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_pre*.csv

  generate_study_population_clinical_concern_dehydration_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehydr*.csv

  generate_study_population_heart_rate_resp_rate_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_resp*.csv

  generate_study_population_ox_temp_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_temper*.csv

  generate_study_population_who_dem_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_vari*.csv

  generate_study_population_com_presc_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_prescri*.csv

  generate_study_population_resp_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exhau*.csv

  generate_study_population_cov_testing_6:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-01-01 to 2021-02-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_te*.csv

  ###################


  generate_study_population_conscious_level_blood_pressure_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_pr*.csv

  generate_study_population_clinical_concern_dehydration_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehyd*.csv

  generate_study_population_heart_rate_resp_rate_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_res*.csv

  generate_study_population_ox_temp_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_tempe*.csv

  generate_study_population_who_dem_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_var*.csv

  generate_study_population_com_presc_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_presc*.csv

  generate_study_population_resp_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exha*.csv

  generate_study_population_cov_testing_7:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-03-01 to 2021-04-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_t*.csv

  ###################

  generate_study_population_conscious_level_blood_pressure_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_p*.csv

  generate_study_population_clinical_concern_dehydration_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_dehy*.csv

  generate_study_population_heart_rate_resp_rate_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_re*.csv

  generate_study_population_ox_temp_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_temp*.csv

  generate_study_population_who_dem_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_va*.csv

  generate_study_population_com_presc_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_pres*.csv

  generate_study_population_resp_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_exh*.csv

  generate_study_population_cov_testing_8:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-05-01 to 2021-06-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov_*.csv

  ###################

  generate_study_population_conscious_level_blood_pressure_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood_*.csv

  generate_study_population_clinical_concern_dehydration_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_deh*.csv

  generate_study_population_heart_rate_resp_rate_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_r*.csv

  generate_study_population_ox_temp_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_tem*.csv

  generate_study_population_who_dem_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_v*.csv

  generate_study_population_com_presc_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_pre*.csv

  generate_study_population_resp_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_ex*.csv

  generate_study_population_cov_testing_9:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-07-01 to 2021-08-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_cov*.csv

  ##############

  generate_study_population_conscious_level_blood_pressure_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blood*.csv

  generate_study_population_clinical_concern_dehydration_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_de*.csv

  generate_study_population_heart_rate_resp_rate_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate_*.csv

  generate_study_population_ox_temp_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_te*.csv

  generate_study_population_who_dem_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic_*.csv

  generate_study_population_com_presc_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_pr*.csv

  generate_study_population_resp_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_e*.csv

  generate_study_population_cov_testing_10:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-09-01 to 2021-11-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_co*.csv

  ##############

  generate_study_population_conscious_level_blood_pressure_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_bloo*.csv

  generate_study_population_clinical_concern_dehydration_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_d*.csv

  generate_study_population_heart_rate_resp_rate_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rate*.csv

  generate_study_population_ox_temp_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_t*.csv

  generate_study_population_who_dem_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographic*.csv

  generate_study_population_com_presc_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_p*.csv

  generate_study_population_resp_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory_*.csv

  generate_study_population_cov_testing_11:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2021-12-01 to 2022-02-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_c*.csv

  ##############

  generate_study_population_conscious_level_blood_pressure_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_conscious_level_blood_pressure.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=altered_conscious_level,blood_pressure
      --param include_hospital_admissions=True
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_conscious_level_blo*.csv

  generate_study_population_clinical_concern_dehydration_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_clinical_concern_dehydration.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=causing_clinical_concern,clinical_concern_note,dehydration_or_shock
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_clinical_concern_*.csv

  generate_study_population_heart_rate_resp_rate_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_heart_rate_resp_rate.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=heart_rate,respiratory_rate,inspired_oxygen
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_heart_rat*.csv

  generate_study_population_ox_temp_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_oxygen_saturation_temperature.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=oxygen_saturation,temperature
      --param include_hospital_admissions=False
      --param include_numeric_variables=True
    outputs:
      highly_sensitive:
        cohort: output/input_oxygen_saturation_*.csv

  generate_study_population_who_dem_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_who_performance_score_demographic_variables.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=who_performance_score,demographic_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_who_performance_score_demographi*.csv

  generate_study_population_com_presc_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_comorbidity_prescription.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=comorbidity_variables,prescription_variables
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_comorbidity_*.csv

  generate_study_population_resp_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_severe_respiratory_distress_respiratory_exhaustion.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=severe_respiratory_distress,respiratory_exhaustion
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_severe_respiratory_distress_respiratory*.csv

  generate_study_population_cov_testing_12:
    run: >
      cohortextractor:latest generate_cohort
      --study-definition study_definition
      --index-date-range "2022-03-01 to 2022-06-01 by month"
      --output-file=output/input_cov_testing.csv
      --output-format=csv
      --with-end-date-fix
      --param varset=suspected_covid,probable_covid
      --param include_hospital_admissions=False
      --param include_numeric_variables=False
    outputs:
      highly_sensitive:
        cohort: output/input_*.csv

  ##############

  generate_study_population_test:
    run: cohortextractor:latest generate_cohort --study-definition study_definition_test --output-format=csv --with-end-date-fix
    outputs:
      highly_sensitive:
        cohort: output/input_test.csv

  generate_study_population_end:
    run: cohortextractor:latest generate_cohort --study-definition study_definition_end --output-format=csv --with-end-date-fix
    outputs:
      highly_sensitive:
        cohort: output/input_end.csv

  generate_study_population_end_2022:
    run: cohortextractor:latest generate_cohort --study-definition study_definition_end_2022 --output-format=csv --with-end-date-fix
    outputs:
      highly_sensitive:
        cohort: output/input_end_2022.csv

  generate_study_population_eth:
    run: cohortextractor:latest generate_cohort --study-definition study_definition_ethnicity --output-format=csv --with-end-date-fix
    outputs:
      highly_sensitive:
        cohort: output/input_ethnicity.csv

  join_cohorts:
    run: python:latest python analysis/analysis/join_cohorts.py --input-dir=output --output-dir=output/joined
    needs: [
      generate_study_population_conscious_level_blood_pressure,
      generate_study_population_clinical_concern_dehydration,
      generate_study_population_heart_rate_resp_rate,
      generate_study_population_ox_temp,
      generate_study_population_who_dem,
      generate_study_population_com_presc,
      generate_study_population_resp,
      generate_study_population_cov_testing,
      generate_study_population_conscious_level_blood_pressure_2,
      generate_study_population_clinical_concern_dehydration_2,
      generate_study_population_heart_rate_resp_rate_2,
      generate_study_population_ox_temp_2,
      generate_study_population_who_dem_2,
      generate_study_population_com_presc_2,
      generate_study_population_resp_2,
      generate_study_population_cov_testing_2,
      generate_study_population_conscious_level_blood_pressure_3,
      generate_study_population_clinical_concern_dehydration_3,
      generate_study_population_heart_rate_resp_rate_3,
      generate_study_population_ox_temp_3,
      generate_study_population_who_dem_3,
      generate_study_population_com_presc_3,
      generate_study_population_resp_3,
      generate_study_population_cov_testing_3,
      generate_study_population_conscious_level_blood_pressure_4,
      generate_study_population_clinical_concern_dehydration_4,
      generate_study_population_heart_rate_resp_rate_4,
      generate_study_population_ox_temp_4,
      generate_study_population_who_dem_4,
      generate_study_population_com_presc_4,
      generate_study_population_resp_4,
      generate_study_population_cov_testing_4,
      generate_study_population_conscious_level_blood_pressure_5,
      generate_study_population_clinical_concern_dehydration_5,
      generate_study_population_heart_rate_resp_rate_5,
      generate_study_population_ox_temp_5,
      generate_study_population_who_dem_5,
      generate_study_population_com_presc_5,
      generate_study_population_resp_5,
      generate_study_population_cov_testing_5,
      generate_study_population_conscious_level_blood_pressure_6,
      generate_study_population_clinical_concern_dehydration_6,
      generate_study_population_heart_rate_resp_rate_6,
      generate_study_population_ox_temp_6,
      generate_study_population_who_dem_6,
      generate_study_population_com_presc_6,
      generate_study_population_resp_6,
      generate_study_population_cov_testing_6,
      generate_study_population_conscious_level_blood_pressure_7,
      generate_study_population_clinical_concern_dehydration_7,
      generate_study_population_heart_rate_resp_rate_7,
      generate_study_population_ox_temp_7,
      generate_study_population_who_dem_7,
      generate_study_population_com_presc_7,
      generate_study_population_resp_7,
      generate_study_population_cov_testing_7,
      generate_study_population_conscious_level_blood_pressure_8,
      generate_study_population_clinical_concern_dehydration_8,
      generate_study_population_heart_rate_resp_rate_8,
      generate_study_population_ox_temp_8,
      generate_study_population_who_dem_8,
      generate_study_population_com_presc_8,
      generate_study_population_resp_8,
      generate_study_population_cov_testing_8,
      generate_study_population_conscious_level_blood_pressure_9,
      generate_study_population_clinical_concern_dehydration_9,
      generate_study_population_heart_rate_resp_rate_9,
      generate_study_population_ox_temp_9,
      generate_study_population_who_dem_9,
      generate_study_population_com_presc_9,
      generate_study_population_resp_9,
      generate_study_population_cov_testing_9,
      generate_study_population_conscious_level_blood_pressure_10,
      generate_study_population_clinical_concern_dehydration_10,
      generate_study_population_heart_rate_resp_rate_10,
      generate_study_population_ox_temp_10,
      generate_study_population_who_dem_10,
      generate_study_population_com_presc_10,
      generate_study_population_resp_10,
      generate_study_population_cov_testing_10,
      generate_study_population_conscious_level_blood_pressure_11,
      generate_study_population_clinical_concern_dehydration_11,
      generate_study_population_heart_rate_resp_rate_11,
      generate_study_population_ox_temp_11,
      generate_study_population_who_dem_11,
      generate_study_population_com_presc_11,
      generate_study_population_resp_11,
      generate_study_population_cov_testing_11,
      generate_study_population_conscious_level_blood_pressure_12,
      generate_study_population_clinical_concern_dehydration_12,
      generate_study_population_heart_rate_resp_rate_12,
      generate_study_population_ox_temp_12,
      generate_study_population_who_dem_12,
      generate_study_population_com_presc_12,
      generate_study_population_resp_12,
      generate_study_population_cov_testing_12,
      ]
    outputs:
      highly_sensitive:
        counts: output/joined/input_*.csv

  join_cohorts_end:
    run: >
      cohort-joiner:v0.0.44
        --lhs output/joined/input_*.csv
        --rhs output/input_end.csv
        --output-dir output/joined/full
    needs: [
      join_cohorts,
      generate_study_population_end
      ]
    outputs:
      highly_sensitive:
        cohort: output/joined/full/input*.csv

  join_cohorts_eth:
    run: >
      cohort-joiner:v0.0.44
        --lhs output/joined/full/input_*.csv
        --rhs output/input_ethnicity.csv
        --output-dir output/joined/full/eth
    needs: [
      join_cohorts_end,
      generate_study_population_eth
      ]
    outputs:
      highly_sensitive:
        cohort: output/joined/full/eth/inpu*.csv

  cohort_description:
    run: >
      python:latest python analysis/analysis/cohort_description.py
        --study_def_paths "output/joined/full/eth/input_*.csv"
        --demographics "sex" "imdQ5" "ethnicity" "age_band" "homeless" "residential_care" "region" "asthma" "addisons_hypoadrenalism" "chronic_heart_disease" "chronic_respiratory_disease" "ckd_primis_stage" "renal_disease" "ckd35_or_renal_disease" "ckd_os" "liver_disease" "pregnant" "diabetes" "gestational_diabetes" "obesity" "mental_illness" "neurological_disorder" "hypertension" "pneumonia" "immunosuppression_disorder" "immunosuppression_chemo" "immunosuppression_medication" "splenic_disease" "statins" "hospital_admission" "icu_admission" "died_any_pc" "died_any" "covid_related_death" "type_of_residence" "covadm1" "covadm2" "pfd1rx" "pfd2rx" "azd1rx" "azd2rx" "covrx1" "covrx2"
    needs: [join_cohorts_eth]
    outputs:
      moderately_sensitive:
        counts: output/cohort_description.csv
        counts_redacted: output/cohort_description_redacted.csv

  combined_input_files:
    run: python:latest python analysis/analysis/combine_input_files.py
    needs: [join_cohorts_eth]
    outputs:
      highly_sensitive:
        attrition: output/joined/full/input_all.csv

  population_count:
    run: python:latest python analysis/analysis/population_count.py
    needs: [combined_input_files]
    outputs:
      moderately_sensitive:
        count: output/joined/full/population_count.csv

  column_counts:
    run: python:latest python analysis/analysis/column_counts.py
    needs: [combined_input_files]
    outputs:
      moderately_sensitive:
        attrition: output/column_counts*.csv

  numeric_values_check:
    run: python:latest python analysis/analysis/check_numeric_values.py
    needs: [combined_input_files]
    outputs:
      moderately_sensitive:
        table: output/joined/full/proportions_numeric.csv
        raw: output/joined/full/proportions_numeric_raw.csv
        dist: output/joined/full/dist*.csv

  template_frequency:
    run: python:latest python analysis/analysis/template_frequency.py
    needs: [combined_input_files]
    outputs:
      moderately_sensitive:
        attrition: output/joined/full/template_frequency.csv
  
  check_deaths:
    run: python:latest python analysis/analysis/check_deaths.py
    needs: [generate_study_population_end, generate_study_population_test]
    outputs:
      moderately_sensitive:
        attrition: output/died_any_counts.csv
        test: output/*_test_counts.csv
        
  descriptive_tables:
    run: r:latest analysis/analysis/flucats_descriptive.R
    needs: [combined_input_files]
    outputs:
      highly_sensitive:
        flucat_tables: output/input_all_edited.csv
      moderately_sensitive:
        attrition: output/results/attrition.csv
        histogram_age: output/results/age_hist.png
        histogram_age_data: output/results/age_hist.csv
        date_plot: output/results/weekly_template.png
        date_plot_data: output/results/weekly_template.csv
        flucat_tables: output/results/flucat*.csv
        sex_table: output/results/sex_table.csv
        region_table: output/results/region_table.csv
        demographics: output/results/demographics.csv
        tables: output/results/table*.csv
        tables_txt: output/results/table*.txt
        outcomes: output/results/outcomes.csv
        
  hosp_adm_breakdown:
    run: python:latest python analysis/analysis/hospital_admission_breakdown.py
    needs: [descriptive_tables]
    outputs:
      moderately_sensitive:
        attrition: output/results/hospital_admission_cov_status*.csv
        cov_status: output/results/cov_status_value_counts.csv
        cov_status_by_code: output/results/*covid_value_counts.csv


  discrimination:
      run: r:latest analysis/analysis/flucatsValidation_discrimination.R
      needs: [descriptive_tables]
      outputs:
        moderately_sensitive:
          aucs: output/results/aucs*.csv
          roc: output/results/roc*.csv
          summary: output/results/*summary.txt

  severeOutcome:
      run: r:latest analysis/analysis/severeOutcome.R
      needs: [descriptive_tables]
      outputs:
        moderately_sensitive:
          tables: output/results/tab*.csv
          summary: output/results/tabl*.txt
          roc: output/results/ro*.csv
          aucs: output/results/auc*.csv
          # calibration: output/results/calibration*.csv


  adjustedModels:
      run: r:latest analysis/analysis/adjustedModels.R
      needs: [descriptive_tables]
      outputs:
        moderately_sensitive:
          tables: output/results/adju*.txt